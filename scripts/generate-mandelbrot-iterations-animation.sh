#!/bin/bash

WORK_DIR=$(mktemp -d)

./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 001 --output ${WORK_DIR}/001.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 002 --output ${WORK_DIR}/002.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 003 --output ${WORK_DIR}/003.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 004 --output ${WORK_DIR}/004.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 005 --output ${WORK_DIR}/005.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 006 --output ${WORK_DIR}/006.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 007 --output ${WORK_DIR}/007.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 008 --output ${WORK_DIR}/008.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 009 --output ${WORK_DIR}/009.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 010 --output ${WORK_DIR}/010.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 011 --output ${WORK_DIR}/011.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 012 --output ${WORK_DIR}/012.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 013 --output ${WORK_DIR}/013.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 014 --output ${WORK_DIR}/014.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 015 --output ${WORK_DIR}/015.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 016 --output ${WORK_DIR}/016.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 017 --output ${WORK_DIR}/017.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 018 --output ${WORK_DIR}/018.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 019 --output ${WORK_DIR}/019.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 020 --output ${WORK_DIR}/020.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 021 --output ${WORK_DIR}/021.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 022 --output ${WORK_DIR}/022.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 023 --output ${WORK_DIR}/023.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 024 --output ${WORK_DIR}/024.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 025 --output ${WORK_DIR}/025.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 026 --output ${WORK_DIR}/026.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 027 --output ${WORK_DIR}/027.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 028 --output ${WORK_DIR}/028.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 029 --output ${WORK_DIR}/029.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 030 --output ${WORK_DIR}/030.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 031 --output ${WORK_DIR}/031.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 032 --output ${WORK_DIR}/032.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 033 --output ${WORK_DIR}/033.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 034 --output ${WORK_DIR}/034.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 035 --output ${WORK_DIR}/035.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 036 --output ${WORK_DIR}/036.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 037 --output ${WORK_DIR}/037.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 038 --output ${WORK_DIR}/038.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 039 --output ${WORK_DIR}/039.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 040 --output ${WORK_DIR}/040.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 041 --output ${WORK_DIR}/041.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 042 --output ${WORK_DIR}/042.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 043 --output ${WORK_DIR}/043.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 044 --output ${WORK_DIR}/044.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 045 --output ${WORK_DIR}/045.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 046 --output ${WORK_DIR}/046.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 047 --output ${WORK_DIR}/047.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 048 --output ${WORK_DIR}/048.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 049 --output ${WORK_DIR}/049.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 050 --output ${WORK_DIR}/050.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 051 --output ${WORK_DIR}/051.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 052 --output ${WORK_DIR}/052.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 053 --output ${WORK_DIR}/053.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 054 --output ${WORK_DIR}/054.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 055 --output ${WORK_DIR}/055.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 056 --output ${WORK_DIR}/056.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 057 --output ${WORK_DIR}/057.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 058 --output ${WORK_DIR}/058.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 059 --output ${WORK_DIR}/059.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 060 --output ${WORK_DIR}/060.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 061 --output ${WORK_DIR}/061.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 062 --output ${WORK_DIR}/062.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 063 --output ${WORK_DIR}/063.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 064 --output ${WORK_DIR}/064.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 065 --output ${WORK_DIR}/065.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 066 --output ${WORK_DIR}/066.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 067 --output ${WORK_DIR}/067.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 068 --output ${WORK_DIR}/068.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 069 --output ${WORK_DIR}/069.bmp
./demo mandelbrot 1000x200 --scale 75 --colormap twilight --iterations 070 --output ${WORK_DIR}/070.bmp

for file in ${WORK_DIR}/*.bmp
do
    convert ${file} ${file%.bmp}.png
done

convert -delay 10 -loop 0 ${WORK_DIR}/*.png mandelbrot-iterations.gif
rm -rf ${WORK_DIR}
